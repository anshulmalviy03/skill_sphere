{"ast":null,"code":"const upload = async e => {\n  e.preventDefault();\n\n  if (!selectedFiles || selectedFiles.length === 0) {\n    alert(\"Please select a file to upload.\");\n    return;\n  }\n\n  const currentFile = selectedFiles[0];\n  setCurrentFile(currentFile);\n  let formData = new FormData();\n  formData.append(\"image\", currentFile);\n\n  try {\n    const config = {\n      headers: {\n        \"Content-type\": \"multipart/form-data\"\n      }\n    };\n    const {\n      data\n    } = await axios.post(\"http://localhost:9090/api/elearning/file/uploadimg\", {\n      image: currentFile,\n      courseId: selectedCourse.value,\n      userId: userID,\n      chapterId: selectedChapter.value,\n      subtId: selectedSubtopic.value\n    }, config); // Handle the success scenario\n\n    setSelectedCourse(\"\");\n    setSelectedChapter(\"\");\n    setSelectedSubtopic(\"\");\n    setSelectedFiles(undefined);\n    alert(data.message);\n  } catch (error) {\n    console.error(\"File upload failed:\", error);\n    alert(\"File upload failed. Please try again.\");\n  }\n};","map":{"version":3,"names":["upload","e","preventDefault","selectedFiles","length","alert","currentFile","setCurrentFile","formData","FormData","append","config","headers","data","axios","post","image","courseId","selectedCourse","value","userId","userID","chapterId","selectedChapter","subtId","selectedSubtopic","setSelectedCourse","setSelectedChapter","setSelectedSubtopic","setSelectedFiles","undefined","message","error","console"],"sources":["D:/CDAC/Project/Contribution Project/SkillSphere-E-learningHub/Frontend/src/components/course/VideoUpload.jsx"],"sourcesContent":["const upload = async (e) => {\r\n  e.preventDefault();\r\n  \r\n  if (!selectedFiles || selectedFiles.length === 0) {\r\n    alert(\"Please select a file to upload.\");\r\n    return;\r\n  }\r\n  \r\n  const currentFile = selectedFiles[0];\r\n  setCurrentFile(currentFile);\r\n\r\n  let formData = new FormData();\r\n  formData.append(\"image\", currentFile);\r\n  \r\n  try {\r\n    const config = {\r\n      headers: {\r\n        \"Content-type\": \"multipart/form-data\",\r\n      },\r\n    };\r\n    \r\n    const { data } = await axios.post(\r\n      \"http://localhost:9090/api/elearning/file/uploadimg\",\r\n      {\r\n        image: currentFile,\r\n        courseId: selectedCourse.value,\r\n        userId: userID,\r\n        chapterId: selectedChapter.value,\r\n        subtId: selectedSubtopic.value,\r\n      },\r\n      config\r\n    );\r\n\r\n    // Handle the success scenario\r\n    setSelectedCourse(\"\");\r\n    setSelectedChapter(\"\");\r\n    setSelectedSubtopic(\"\");\r\n    setSelectedFiles(undefined);\r\n    alert(data.message);\r\n\r\n  } catch (error) {\r\n    console.error(\"File upload failed:\", error);\r\n    alert(\"File upload failed. Please try again.\");\r\n  }\r\n};\r\n"],"mappings":"AAAA,MAAMA,MAAM,GAAG,MAAOC,CAAP,IAAa;EAC1BA,CAAC,CAACC,cAAF;;EAEA,IAAI,CAACC,aAAD,IAAkBA,aAAa,CAACC,MAAd,KAAyB,CAA/C,EAAkD;IAChDC,KAAK,CAAC,iCAAD,CAAL;IACA;EACD;;EAED,MAAMC,WAAW,GAAGH,aAAa,CAAC,CAAD,CAAjC;EACAI,cAAc,CAACD,WAAD,CAAd;EAEA,IAAIE,QAAQ,GAAG,IAAIC,QAAJ,EAAf;EACAD,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBJ,WAAzB;;EAEA,IAAI;IACF,MAAMK,MAAM,GAAG;MACbC,OAAO,EAAE;QACP,gBAAgB;MADT;IADI,CAAf;IAMA,MAAM;MAAEC;IAAF,IAAW,MAAMC,KAAK,CAACC,IAAN,CACrB,oDADqB,EAErB;MACEC,KAAK,EAAEV,WADT;MAEEW,QAAQ,EAAEC,cAAc,CAACC,KAF3B;MAGEC,MAAM,EAAEC,MAHV;MAIEC,SAAS,EAAEC,eAAe,CAACJ,KAJ7B;MAKEK,MAAM,EAAEC,gBAAgB,CAACN;IAL3B,CAFqB,EASrBR,MATqB,CAAvB,CAPE,CAmBF;;IACAe,iBAAiB,CAAC,EAAD,CAAjB;IACAC,kBAAkB,CAAC,EAAD,CAAlB;IACAC,mBAAmB,CAAC,EAAD,CAAnB;IACAC,gBAAgB,CAACC,SAAD,CAAhB;IACAzB,KAAK,CAACQ,IAAI,CAACkB,OAAN,CAAL;EAED,CA1BD,CA0BE,OAAOC,KAAP,EAAc;IACdC,OAAO,CAACD,KAAR,CAAc,qBAAd,EAAqCA,KAArC;IACA3B,KAAK,CAAC,uCAAD,CAAL;EACD;AACF,CA5CD"},"metadata":{},"sourceType":"module"}